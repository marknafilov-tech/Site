<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Start Page</title>
<style>
    body{
        margin:0;
        font-family:Arial, sans-serif;
        display:flex;
        flex-direction:column;
        height:100vh;
        background:#f2f2f2;
    }

    /* –ü–∞–Ω–µ–ª—å –∑–∞–∫–ª–∞–¥–æ–∫ */
    #bookmarks {
        height:40px;
        display:flex;
        align-items:center;
        padding:0 10px;
        gap:10px;
        background:#ffffffdd;
        border-bottom:1px solid #ddd;
        user-select:none;
    }
    .bm {
        padding:6px 14px;
        border-radius:6px;
        background:#eee;
        cursor:pointer;
        text-decoration:none;
        color:#000;
        transition:0.2s;
    }
    .bm:hover { background:#dcdcdc; }

    .center{
        flex:1;
        display:flex;
        flex-direction:column;
        align-items:center;
        justify-content:center;
        gap:20px;
    }

    .search-box{
        width:50%;
        min-width:260px;
        max-width:520px;
        display:flex;
        border:1px solid #ccc;
        border-radius:30px;
        background:#fff;
        padding:10px 20px;
        box-shadow:0 2px 10px rgba(0,0,0,0.08);
    }
    .search-box input{
        border:none;
        outline:none;
        width:100%;
        font-size:18px;
    }
    .search-box button{
        border:none;
        background:transparent;
        cursor:pointer;
        font-size:18px;
    }

    #engines { display:flex; gap:10px; }
    .engine{
        padding:6px 12px;
        background:#fff;
        border:1px solid #ddd;
        border-radius:8px;
        cursor:pointer;
        transition:0.2s;
        font-size:14px;
    }
    .engine.active{
        background:#4285f4;
        color:#fff;
        border-color:#4285f4;
    }
</style>
</head>
<body>

<!-- –ü–£–°–¢–´–ï –∑–∞–∫–ª–∞–¥–∫–∏ -->
<div id="bookmarks"></div>

<div class="center">
    <div class="search-box">
        <input id="query" type="text" placeholder="–ü–æ–∏—Å–∫..." onkeydown="if(event.key==='Enter') search()">
        <button onclick="search()">üîç</button>
    </div>

    <div id="engines">
        <div class="engine active" data="google">Google</div>
        <div class="engine" data="bing">Bing</div>
        <div class="engine" data="yahoo">Yahoo</div>
    </div>
</div>

<script>
    let engine = "google";

    // --------------------------
    // –í–´–ë–û–† –ü–û–ò–°–ö–û–í–ò–ö–ê
    // --------------------------

    document.querySelectorAll(".engine").forEach(e=>{
        e.onclick = ()=>{
            document.querySelectorAll(".engine").forEach(x=>x.classList.remove("active"));
            e.classList.add("active");
            engine = e.getAttribute("data");
        };
    });

    // --------------------------
    // –ü–û–ò–°–ö + ENTER
    // --------------------------

    function search(){
        let q = document.getElementById("query").value.trim();
        if(!q) return;
        let url="";
        if(engine==="google") url="https://www.google.com/search?q="+q;
        if(engine==="bing")   url="https://www.bing.com/search?q="+q;
        if(engine==="yahoo")  url="https://search.yahoo.com/search?p="+q;
        window.location.href = url;
    }

    // --------------------------
    // –ó–ê–ö–õ–ê–î–ö–ò
    // --------------------------

    const bookmarksBox = document.getElementById("bookmarks");

    loadBookmarks();

    // –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–ª–∞–¥–∫–∏ (–ü–ö–ú –ø–æ –ø–∞–Ω–µ–ª–∏)
    bookmarksBox.addEventListener("contextmenu", function(e){
        e.preventDefault();
        let name = prompt("–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–∫–ª–∞–¥–∫–∏:");
        if(!name) return;
        let url = prompt("URL:");
        if(!url) return;

        addBookmark(name, url);
    });

    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–ª–∞–¥–∫–∏
    function addBookmark(name, url){
        // –£–±–∏—Ä–∞–µ–º –≤–µ—Å—å –º—É—Å–æ—Ä (–ø—Ä–æ–±–µ–ª—ã, –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –∏ —Ç.–¥.)
        url = url.trim();

        // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤—ë–ª youtube.com ‚Üí –¥–µ–ª–∞–µ–º https://youtube.com
        if(!/^https?:\/\//i.test(url)){
            url = "https://" + url;
        }

        // –ü—Ä–µ–≤—Ä–∞—â–∞–µ–º –≤ –∞–±—Å–æ–ª—é—Ç–Ω—ã–π URL, —á—Ç–æ–±—ã GitHub Pages –ù–ï –¥–µ–ª–∞–ª –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏
        try {
            url = new URL(url).href;
        } catch {
            alert("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π URL");
            return;
        }

        let arr = JSON.parse(localStorage.getItem("bookmarks") || "[]");
        arr.push({name,url});
        localStorage.setItem("bookmarks", JSON.stringify(arr));
        renderBookmarks();
    }

    // –†–µ–Ω–¥–µ—Ä –∑–∞–∫–ª–∞–¥–æ–∫
    function loadBookmarks(){
        renderBookmarks();
    }

    function renderBookmarks(){
        bookmarksBox.innerHTML = "";
        let arr = JSON.parse(localStorage.getItem("bookmarks") || "[]");

        arr.forEach(b=>{
            let a = document.createElement("a");
            a.className="bm";
            a.href=b.url;
            a.textContent=b.name;

            // –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–∫–ª–∞–¥–∫–∏ (–ü–ö–ú)
            a.addEventListener("contextmenu", (e)=>{
                e.preventDefault();
                if(confirm("–£–¥–∞–ª–∏—Ç—å –∑–∞–∫–ª–∞–¥–∫—É '"+b.name+"'?")){
                    removeBookmark(b.name);
                }
            });

            bookmarksBox.appendChild(a);
        });
    }

    // –£–¥–∞–ª–µ–Ω–∏–µ
    function removeBookmark(name){
        let arr = JSON.parse(localStorage.getItem("bookmarks") || "[]");
        arr = arr.filter(b=>b.name!==name);
        localStorage.setItem("bookmarks", JSON.stringify(arr));
        renderBookmarks();
    }

</script>

</body>
</html>
